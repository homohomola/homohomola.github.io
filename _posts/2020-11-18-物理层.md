---
layout:     post
title:      物理层
subtitle:   TCP/IP第1层
date:       2020-11-18
author:     sakura
header-img: img/the-first.png
catalog: true
tags:
    - 计算机网络
---

# 2 物理层

## 2.1 物理层的基本概念

​	物理层考虑怎样才能在连接各种计算机的传输媒体上传输数据比特流。

​	物理层的协议也常称为物理层**规程**

​	物理层协议的主要任务(确定与传输媒体的接口有关的一些特性)

- **机械特性**    指明接口所用接线器的形状和尺寸、引脚数目和排列、固定锁定装置等。

- **电气特性**    指明接口光缆的某条线上出现的电压的范围

- **功能特性**    指明某条线上出现某一电平的电压的意义

- **过程特性**    指明对于不同功能的可能事件的出现顺序

    数据在计算机内部并行传输，物理层还需完成传输方式的转换(串行-->并行)

## 2.2 物理层下的传输媒体

### 2.2.1 数据通信系统的模型

​	一个数据通信系统可以分为三大部分，**源系统**、**传输系统**、**目的系统**

​	**源系统**

- **源点**(source)     源点设备产生要传输的数据，又称**源站**、**信源**
- **发送器**    对源点产生的数字比特流编码，调制器是一种发送器

​    **目的系统**

- **接收器**    转换传输系统传送的信号，解调器是一种
- **终点**(destination)    终点设备获取接收器的比特流，输出信息，又称**目的站**，**信宿**

​    **传输系统**可以是简单的传输线、可以是复杂的网络系统



### 2.2.2 信道的传输方式+

​	信道表示向某一方向传送信息的媒体，一条通信电路往往包含发送信道和接受信道

​	从通信双方信息交互方式分类

- **单向通信** (单工通信)	单信道，无线电广播
- **双向交替通信**(半双工通信)    不能同时发送接受，对讲机
- **双向同时通信**(全双工通信)    双方可同时发送和接受信息



​    **同步传输**(要实现收发双方时钟同步)

- **外同步**    在收发双方之间添加一条单独的时钟信号线(不归零制)
- **内同步**     将时钟同步信号编码发送到数据中一起传输(曼切斯特编码)

​	**异步传输**(在字节前后加上起始和结束位)

- 每个字节前后增加**起始比特**和**结束比特**，共10bit，有效数据率80%

- 字节之间异步(字节间的时间间隔不固定)
- 字节中的每个比特仍要同步(各比特的持续时间相同)



​	**串行传输**    比特在一根线上传输

​	**并行传输**	多个比特同时在多根传输线上传输

## 2.3 编码与调制

### 2.3.1 常用术语

- 通信的目的是传输**消息（message）**

- **数据（data）** 是运送消息的实体(二进制序列)

- **信号（signal）** 是数据的电气或电磁的表现

    根据信号代表消息的参数的取值不同分类

    - **模拟信号**(连续信号)
    - **数字信号**(离散信号)    使用时间域(时域)的波形表示信号时、代表不同离散数值的基本波形就称为**码元**

- 来自信源的信号被称为**基带信号**（低频、直流成分）

    - 数字基带信号
    - 模拟基带信号(比如音频信号)

### 2.3.2**基带信号调制**++

- **基带调制**(编码)    仅对基带信号的波形进行变换，使与信道特性相适应，仍是基带信道
- **带通调制**    使用**载波**调制，把基带信号的频率范围搬到较高的频段，并转换为**模拟信号**，载波调制后称为**带通信号**



**常见编码**(基带调制)

- **不归零编码**(存在同步问题）

    ![image-20201002101158896](https://gitee.com/happy_every/note_pic/raw/master/image-20201002101158896.png)

- **归零编码**(每个码元传输结束后信号"归零")

![image-20201002101326669](https://gitee.com/happy_every/note_pic/raw/master/image-20201002101326669.png)

​	自同步，将"归零"方式编码在数据内，

​	但编码中的大部分**数据带宽**用来传输归零浪费掉了

- 曼切斯特编码

    ![image-20201002101728354](https://gitee.com/happy_every/note_pic/raw/master/image-20201002101728354.png)

    - 码元中间时刻跳变表示时钟和数据

- 差分曼切斯特编码

    ![image-20201002101941447](https://gitee.com/happy_every/note_pic/raw/master/image-20201002101941447.png)

    - 跳变仅表示时钟

    - 码元开始处电平是否发生变化表示数据
    - 比曼切斯特编码变化少，适合较高的传输速率



**基本带通调制方法**

![image-20201002102424792](https://gitee.com/happy_every/note_pic/raw/master/image-20201002102424792.png)

- 调幅(AM)    载波的振幅随基带数字信号变化

- 调频(FM)    载波的频率随基带数字信号变化

- 调相(PM)    载波的初始相位随基带数字信号变化

- **正交振幅调制(QAM)**    相位和振幅结合起来调制

    > 因为频率与相位相关，频率是相位随时间的变化率，所以只能调制其中一个。
    >
    > 属于多元制的振幅相位混合调制

    - 16种码元(波形),每个码元包含4个比特，采用格雷码对应

## 2.4 信道的极限容量+++

码元失真因素

- 码元传输速率
- 码元传输距离
- 噪声干扰
- 传输媒体质量

### **2.4.1 奈氏准则**

> 在假定的理想条件下，**为避免码间串扰，码元传输速率是有上限的**

**理想低通**（**无噪声**，带宽受限）信道的最高码元传输速率 = 2W Baud = 2W **码元/秒**

**理想带通**信道的最高码元传输速率 C = W Baud

​	W :   信道带宽 (单位Hz)     Baud： 波特，码元/秒

码元传输速率又称波特率、调制速率、波形速率或符号速率

比特率 = n * 波特率	n =  一码元携带n比特信息量

**指出<u>码原的传输速率是受限的</u>**

### 2.4.2 香农公式

> 带宽受限且有高斯白噪声干扰的信道的极限信息传输速率

`$ C = W * \log_2(1+\frac{S}{N})$`

C：信道极限传输信息速率 ，**比特/秒（ b/s）**

W：信道带宽Hz

S：信道所传信号的平均功率

N：信道内的高斯噪声功率

S/N：信道比，分贝（dB）

​		信道比（dB）=$ 10 *\lg(\frac{S}{N}) $

- 信道带宽或信噪比越大，信息的极限传输速率越高

**香农公式指出<u>信息传输的速率的极限</u>**

## 2.5 物理层下的传输媒体

传输媒体，是传输系统 发送器和接收器之间的物理通路，第0层

### 2.5.1 引导性传输媒体

电磁波被导引沿着固体媒体传播

1.**双绞线**

​	两根相互绝缘的铜导线绞合，可以传输数字和模拟信号，远距离传输时，对模拟信号要用放大器放大衰减的信号，对数字信号要用中继器 整形失真的信号。

​	绞合能抵御外界及相邻导线的电磁干扰

2.**同轴电缆**

![image-20201002124124094](https://gitee.com/happy_every/note_pic/raw/master/image-20201002124124094.png)

​     比双绞线抗干扰能力强，传输距离远。

​	 两类同轴电缆

- 50欧姆同轴电缆（基带同轴光缆）
    - 传送基带数字信号
- 75欧姆同轴电缆（宽带同轴光缆）
    - 传送宽带信号

3.**光纤**

- 通信容量大、质量轻
- 传输损耗小、误码率低
- 体积小、抗雷电和电磁干扰好

单模光纤

​	直径只有一个光波的波长，光线一直向前，光源为半导体激光、衰减小，适合远距离传输

多模光纤

​	利用光的全反射，光源为发光二极管，只适合近距离传输

### 2.5.2 非引导型传输媒体-

自由空间——无线传播

1.短波通信

2.微波电波

3.红外通信



## 2.6 数据报与虚电路

### 2.6.1 面向无连接的数据报

**特点**

- 发送分组前无需建立连接
- 网络尽最大努力交付
- 发送方与接收方不独占一条线路、资源利用率高

### 2.6.2 面向连接的虚电路



## 2.7 物理层设备

### 2.7.1 中继器与放大器

中继器作用：放大数字信号

放大器作用：放大模拟信号

### 2.7.2 集线器

多端口中继器，通过信息广播传播数据

不能隔离冲突域